const e=document.getElementById("flr-blocks-register-form");e&&e.addEventListener("submit",function(e){e.preventDefault();const s=new FormData(this),r=this.querySelector("#flr-blocks-register-submit"),l=document.getElementById("flr-blocks-register-form-result"),o=document.getElementById("flr-blocks-register-loading"),t=window.flr_blocks_ajax_object||{};t.ajax_url?(function(e,s,r){r&&r.classList.remove("flr-blocks-hide"),e&&(e.innerHTML="",e.classList.remove("flr-blocks-success","flr-blocks-danger")),s&&(s.disabled=!0)}(l,r,o),fetch(t.ajax_url,{method:"POST",body:s,credentials:"include",headers:{"X-WP-Nonce":t.nonce||""}}).then(e=>e.json()).then(e=>{!function(e,s,r,l){s&&(e.status?s.classList.add("flr-blocks-success"):s.classList.add("flr-blocks-danger"),s.innerHTML=e.message),l&&l.classList.add("flr-blocks-hide"),r&&(r.disabled=!1),null!==e.return_url&&void 0!==e.return_url&&(window.location.href=e.return_url)}(e,l,r,o)}).catch(e=>{!function(e,s,r,l){s&&(s.classList.add("flr-blocks-danger"),s.innerHTML="An error occurred. Please try again."),l&&l.classList.add("flr-blocks-hide"),r&&(r.disabled=!1),console.error("Form submission error:",e)}(e,l,r,o)})):console.error("AJAX URL not available")});